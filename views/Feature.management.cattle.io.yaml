---
kind: "Feature"
api_family: "management.cattle.io"
default_command: "features.management.cattle.io"
command:
  - "features.cattle"
  - "feature.cattle"
listview:
  name: "Features"
  group: "Rancher"
  field_indexes:
    Normal:
      fields: ["name", "custom_value", "default",
               "dynamic", "locked", "age", "description"]
  fields:
    custom_value:
      header: "Custom Value:"
      path: "spec#value"
      default: "<unset>"
      type: "str"
    default:
      header: "Default:"
      path: "status#default"
      default: "<unset>"
      type: "bool"
    description:
      header: "Description:"
      path: "status#description"
      default: "<unset>"
      type: "str"
    dynamic:
      header: "Dynamic:"
      path: "status#dynamic"
      default: "<unset>"
      type: "bool"
    locked:
      header: "Locked:"
      path: "status#locked"
      default: false
      type: "bool"
  actions:
    actionlist:
      "Disable Feature":
        description: "Disable Feature"
        category: "Resource Level"
        actionfunc: "patch_resource"
        extravars:
          action_str: "Disabling"
          args:
            patch:
              spec:
                value: false
            strategic_merge: false
      "Enable Feature":
        description: "Enable Feature"
        category: "Resource Level"
        actionfunc: "patch_resource"
        extravars:
          action_str: "Enabling"
          args:
            patch:
              spec:
                value: true
            strategic_merge: false
infoview:
  name: "Feature Info"
  infopad:
    row_indexes:
      Normal:
        fields: ["description", "custom_value", "default",
                 "locked_value", "dynamic"]
    rows:
      description:
        header: [["Description:", ["main", "infoheader"]]]
        path: "status#description"
        default: "<unset>"
        type: "str"
      custom_value:
        header: [["Custom Value:", ["main", "infoheader"]]]
        path: "spec#value"
        default: "<unset>"
        type: "str"
      default:
        header: [["Default:", ["main", "infoheader"]]]
        path: "status#default"
        default: "<unset>"
        type: "bool"
      dynamic:
        header: [["Dynamic:", ["main", "infoheader"]]]
        path: "status#dynamic"
        default: "<unset>"
        type: "bool"
      locked_value:
        header: [["Locked Value:", ["main", "infoheader"]]]
        path: "status#lockedValue"
        default: "<unset>"
        type: "str"
