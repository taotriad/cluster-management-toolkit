---
kind: "VolumeImportSource"
api_family: "cdi.kubevirt.io"
default_command: "volumeimportsources"
command:
  - "volimportsrcs"
  - "volimportsrc"
listview:
  name: "Volume Import Sources"
  group: "Storage & Backups"
  field_indexes:
    Normal:
      fields: ["namespace", "name", "age"]
      sortcolumn: "namespace"
infoview:
  name: "Data Volume Info"
  infopad:
    row_indexes:
      Normal:
        fields: ["source_header",
                 "source_http_header",
                 "source_http_uri"]
    rows:
      source_header:
        header: [["Source:", ["main", "infoheader"]]]
      source_http_header:
        header: [["  HTTP:", ["main", "infoheader"]]]
      source_http_uri:
        header: [["    URI:", ["main", "infoheader"]]]
        path: "spec#source#http#url"
        default: "<unset>"
        type: "str"
        formatter: "address"
  shortcuts:
    "Owner References":
      key: "o"
      modifier: "shift"
      read_only: true
      helptext: "List Owner References"
      widget: "windowwidget"
      title: "Owner References:"
      selectable: true
      headers: ["Kind:", "API-Version:", "Namespace:", "Name:"]
      itemgetter: "get_list_fields"
      itemgetter_args:
        path: "metadata#ownerReferences"
        fields:
          - "kind"
          - "apiVersion"
          - "namespace"
          - "name"
      # This isn't supported for now
      sortcolumn: "kind"
      action: "call"
      action_call: "resourceinfodispatch_with_lookup"
      action_args:
        _pass_obj: true
        kind_path: 0
        api_version_path: 1
        namespace_path: 2
        name_path: 3
        _parent_namespace_path: "metadata#namespace"
