---
kind: "MutatingAdmissionPolicyBinding"
api_family: "admissionregistration.k8s.io"
default_command: "mutatingadmissionpolicybindings"
command:
  - "mapolbindings"
  - "mapolbinding"
  - "mapolbs"
  - "mapolb"
listview:
  name: "Mutating Admission Policy Bindings"
  group: "API & Extendability"
  field_indexes:
    Normal:
      fields: ["name", "policy_name", "param_ref", "age"]
  fields:
    param_ref:
      header: "Parameter Reference:"
      path: "spec#paramRef#name"
      default: "<unset>"
      type: "str"
    policy_name:
      header: "Policy:"
      path: "spec#policyName"
      default: "<unset>"
      type: "str"
infoview:
  name: "Mutating Admission Policy Binding Info"
  infopad:
    row_indexes:
      Normal:
        fields: ["policy_name",
                 "param_ref_header",
                 "param_ref_name",
                 "param_ref_namespace",
                 "param_ref_parameter_not_found_action",
                 "param_ref_label_selector",
                 "param_ref_set_based_selector",
                 "match_resources_header",
                 "match_policy",
                 "namespace_label_selector",
                 "namespace_set_based_selector",
                 "object_label_selector",
                 "object_set_based_selector"]
    rows:
      match_policy:
        header: [["  Match Policy:", ["main", "infoheader"]]]
        path: "spec#matchResources#matchPolicy"
        default: "<unset>"
        type: "str"
      match_resources_header:
        header: [["Match Resources:", ["main", "infoheader"]]]
      namespace_label_selector:
        header: [["  Namespace La", ["main", "infoheader"]],
                 ["b", ["main", "infoheader_shortcut"]],
                 ["el Selector:", ["main", "infoheader"]]]
        paths:
          - path: ["spec#matchResources#namespaceSelector#matchLabels"]
            pathtype: "key_value"
            default: ["<none>"]
        formatter: "list"
        formatting:
          field_colors:
            - type: "key"
            - type: "value"
          field_separators:
            - type: "selector"
      namespace_set_based_selector:
        header: [["  Namespace Set-based Selector:", ["main", "infoheader"]]]
        paths:
          - path: ["spec#matchResources#namespaceSelector#matchExpressions"]
            pathtype: "match_expression"
            default: "<none>"
        formatter: "list"
        formatting:
          field_colors:
            - type: "key"
            - type: "operator"
            - type: "value"
          field_separators:
            - type: "space"
            - type: "no_pad"
      object_label_selector:
        header: [["  ", ["main", "infoheader"]],
                 ["O", ["main", "infoheader_shortcut"]],
                 ["bject Label Selector:", ["main", "infoheader"]]]
        paths:
          - path: ["spec#matchResources#objectSelector#matchLabels"]
            pathtype: "key_value"
            default: ["<none>"]
        formatter: "list"
        formatting:
          field_colors:
            - type: "key"
            - type: "value"
          field_separators:
            - type: "selector"
      object_set_based_selector:
        header: [["  Object Set-based Selector:", ["main", "infoheader"]]]
        paths:
          - path: ["spec#matchResources#objectSelector#matchExpressions"]
            pathtype: "match_expression"
            default: "<none>"
        formatter: "list"
        formatting:
          field_colors:
            - type: "key"
            - type: "operator"
            - type: "value"
          field_separators:
            - type: "space"
            - type: "no_pad"
      param_ref_header:
        header: [["Parameter Reference:", ["main", "infoheader"]]]
      param_ref_name:
        header: [["  Name:", ["main", "infoheader"]]]
        path: "spec#paramRef#name"
        default: "<unset>"
        type: "str"
      param_ref_namespace:
        header: [["  Namespace:", ["main", "infoheader"]]]
        path: "spec#paramRef#namepace"
        default: "<unset>"
        type: "str"
      param_ref_parameter_not_found_action:
        header: [["  Parameter Not Found Action:", ["main", "infoheader"]]]
        path: "spec#paramRef#parameterNotFoundAction"
        default: "<unset>"
        type: "str"
      param_ref_label_selector:
        header: [["  Labe", ["main", "infoheader"]],
                 ["l", ["main", "infoheader_shortcut"]],
                 [" Selector:", ["main", "infoheader"]]]
        paths:
          - path: ["spec#paramRef#selector#matchLabels"]
            pathtype: "key_value"
            default: ["<none>"]
        formatter: "list"
        formatting:
          field_colors:
            - type: "key"
            - type: "value"
          field_separators:
            - type: "selector"
      param_ref_set_based_selector:
        header: [["  Set-based Selector:", ["main", "infoheader"]]]
        paths:
          - path: ["spec#paramRef#selector#matchExpressions"]
            pathtype: "match_expression"
            default: "<none>"
        formatter: "list"
        formatting:
          field_colors:
            - type: "key"
            - type: "operator"
            - type: "value"
          field_separators:
            - type: "space"
            - type: "no_pad"
      policy_name:
        header: [["P", ["main", "infoheader_shortcut"]],
                 ["olicy:", ["main", "infoheader"]]]
        path: "spec#policyName"
        type: "str"
  shortcuts:
    "Show MutatingAdmissionPolicy":
      key: "p"
      modifier: "shift"
      read_only: true
      helptext: "Open list page for Mutating Admission Policy"
      action: "call"
      action_call: "resourceinfodispatch_with_lookup"
      action_args:
        _pass_obj: true
        name_path: "spec#policyName"
        kind: "MutatingAdmissionPolicy"
        api_family: "admissionregistration.k8s.io"
    "Namespace Label Selector":
      key: "b"
      read_only: true
      helptext: "Namespace label selector"
      widget: "windowwidget"
      title: "Namespace Label Selector:"
      headers: ["Key:", "Value:"]
      itemgetter: "get_key_value"
      itemgetter_args:
        path: "spec#matchResources#namespaceSelector#matchLabels"
    "Object Label Selector":
      key: "o"
      modifier: "shift"
      read_only: true
      helptext: "Object label selector"
      widget: "windowwidget"
      title: "Object Label Selector:"
      headers: ["Key:", "Value:"]
      itemgetter: "get_key_value"
      itemgetter_args:
        path: "spec#matchResources#objectSelector#matchLabels"
    "Param Ref Label Selector":
      key: "l"
      read_only: true
      helptext: "Param Ref label selector"
      widget: "windowwidget"
      title: "Param Ref Label Selector:"
      headers: ["Key:", "Value:"]
      itemgetter: "get_key_value"
      itemgetter_args:
        path: "spec#paramRef#selector#matchLabels"
