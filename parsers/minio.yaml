---
- name: "minio"
  show_in_selector: false
  matchkeys:
    - image_name: "/minio/operator"
      container_name: "minio"
  parser_rules:
    - name: "glog"
- name: "minio"
  show_in_selector: false
  matchkeys:
    - pod_name: "minio"
      container_name: "minio"
    - pod_name: "minio-"
      container_name: "mc"
    - image_name: "/minio/minio"
  parser_rules:
    - name: "ts_8601"
    - name: "custom_line"
      options:
        block_start:
          - matchtype: "startswith"
            # yamllint disable-line rule:line-length
            matchkey: "WARNING: MINIO_ACCESS_KEY and MINIO_SECRET_KEY are deprecated."
            matchline: "any"
            format_block_start: true
        block_end:
          - matchtype: "startswith"
            # yamllint disable-line rule:line-length
            matchkey: "         Please use MINIO_ROOT_USER and MINIO_ROOT_PASSWORD"
            matchline: "any"
            format_block_end: true
        loglevel: "warning"
    - name: "override_severity"
      overrides:
        - matchtype: "startswith"
          matchkey: "Version:"
          loglevel: "notice"
        - matchtype: "startswith"
          matchkey: "WARNING:"
          loglevel: "warning"
        - matchtype: "startswith"
          matchkey: "Warning:"
          loglevel: "warning"
- name: "minio"
  show_in_selector: false
  matchkeys:
    - pod_name: "minio-"
      container_name: "wait-for-minio"
      container_type: "init_container"
  parser_rules:
    - name: "custom_splitter"
      options:
        regex: '^\[[^]]+\]\s(.*)'
        message:
          field: 1
